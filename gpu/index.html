<!-- header.html -->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="generator" content="Doxygen 1.9.1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <style>
        #titlearea {
            background: linear-gradient(to right, #2c3e50, #3498db);
            color: white;
            padding: 20px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            border-bottom: none;
            position: relative;  /* Added */
            z-index: 1000;      /* Added */
        }
        #projectname {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
            color: white;
        }
        #projectbrief {
            font-size: 14px;
            opacity: 0.9;
            color: white;
        }
        #menu-container {    /* New container */
            position: relative;
            z-index: 1001;
            display: block;
            margin-right: 20px;
        }
        #main-menu-btn {
            display: inline-block;
            padding: 8px 16px;
            background-color: rgba(255,255,255,0.15);
            color: white !important;
            text-decoration: none !important;
            border-radius: 4px;
            transition: all 0.3s ease;
            font-weight: 500;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
            position: relative;    /* Added */
            z-index: 1002;        /* Added */
            opacity: 1 !important; /* Added */
            visibility: visible !important; /* Added */
        }
        #main-menu-btn:hover {
            background-color: rgba(255,255,255,0.25);
            transform: translateY(-1px);
            text-decoration: none;
            color: white !important;
        }
        #main-menu-btn::before {
            content: "‚Üê";
            margin-right: 8px;
        }
        #projectalign {
            padding: 0 20px;
        }
        #titlearea table {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            position: relative;  /* Added */
            z-index: 999;       /* Added */
        }
        #titlearea td {
            position: relative;  /* Added */
            z-index: 1000;      /* Added */
        }
        @media (max-width: 768px) {
            #titlearea table td {
                display: block;
                text-align: center;
                padding: 5px 20px;
            }
        }
    </style>
</head>
<body>
<div id="top">
    <div id="titlearea">
        <table cellspacing="0" cellpadding="0">
            <tbody>
            <tr>
                <td id="projectalign">
                    <div id="projectname">GPU Raytracer</div>
                    <div id="projectbrief">CUDA-based Implementation</div>
                </td>
                <td style="text-align: right;">
                    <div id="menu-container">
                        <a href="../index.html" id="main-menu-btn">Main Menu</a>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div><!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">GPU Raytracer Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__home_runner_work_DD2360_DD2360_Project_README"></a> </p><h1 align="center">Raytracing on CPU vs GPU</h1>
<div style="text-align: center;"> <img src="https://raw.githubusercontent.com/Deadlica/DD2360/refs/heads/main/Project/images/README_logo.png" alt="Image of raytraced spheres" width="711" height="400" class="inline"/> </div><p><br  />
</p>
<p><img src="https://img.shields.io/github/issues-pr/deadlica/DD2360" alt="pull" class="inline"/> <img src="https://img.shields.io/github/issues/deadlica/DD2360" alt="issues" class="inline"/> <img src="https://img.shields.io/codecov/c/github/deadlica/DD2360" alt="coverage" class="inline"/> <img src="https://img.shields.io/github/languages/top/deadlica/DD2360" alt="language" class="inline"/></p>
<h2><a class="anchor" id="autotoc_md0"></a>
Introduction</h2>
<hr  />
<p> This repository provides two implementations of a ray tracing application: one using the CPU and another written in <code>CUDA</code> to leverage the GPU. The CPU version is based on the ray tracing application presented by Peter Shirley in his book <a href="https://raytracing.github.io/books/RayTracingInOneWeekend.html">Ray Tracing in One Weekend</a>, while the GPU version is inspired by an <a href="https://developer.nvidia.com/blog/accelerated-ray-tracing-cuda/">Nvidia blog post</a>.</p>
<p>The CPU implementation closely follows Peter Shirley's version with minor adjustments, whereas the GPU implementation differs slightly more from the blog post. The Nvidia blog introduces significant changes that diverge from Shirley's approach, while our GPU version aims to mimic the CPU implementation as closely as possible. As a result, our GPU version is more aligned with Shirley's original CPU-based design.</p>
<p>Both versions of the program render an image in the PPM format. Additionally, both versions can be built with SFML to directly display the image once rendering is complete.</p>
<h2><a class="anchor" id="autotoc_md1"></a>
Dependencies</h2>
<hr  />
<p> The following technologies have been tested and are required to run the project:</p><ul>
<li>g++ 11.4.0, or newer</li>
<li>nvcc 11.15.119, or newer</li>
<li>GNU Make 4.3, or newer</li>
<li>CMake 3.22.1, or newer</li>
<li>(Optional) SFML 2.5.1, or newer</li>
<li>(Optional) Doxygen 1.11.0, or newer</li>
<li>(Optional) Python 3.10.12, or newer</li>
<li>Nvidia GPU</li>
</ul>
<p><code>Note 1: Older versions might work, but they have not been tested.</code></p>
<h2><a class="anchor" id="autotoc_md2"></a>
Documentation</h2>
<hr  />
<p> Extensive documentation can be found <a href="https://deadlica.github.io/DD2360/">here</a>.</p>
<p>If you would like to generate new documentation pages make sure to install doxygen. </p><div class="fragment"><div class="line"># For Debian</div>
<div class="line">sudo apt-get install doxygen</div>
</div><!-- fragment --> <div class="fragment"><div class="line"># For Arch</div>
<div class="line">sudo pacman -S doxygen</div>
</div><!-- fragment --><p> and thereafter simply run either of the following commands: </p><div class="fragment"><div class="line"># Generates documentation with make</div>
<div class="line">make docs</div>
<div class="line"> </div>
<div class="line"># Generates documentation without make</div>
<div class="line">doxygen Doxygen/CPU/Doxyfile &amp;&amp; doxygen Doxygen/GPU/Doxyfile &amp;&amp; cp Doxygen/index.html docs</div>
</div><!-- fragment --><p> to generate the html pages.</p>
<p><a class="anchor" id="build-run"></a> </p>
<h2><a class="anchor" id="autotoc_md3"></a>
Building and Running</h2>
<hr  />
<p> This project supports two build systems: <code>Make</code> and <code>CMake</code>.</p>
<p><code>Note 2: All commands are to be run from the project root directory.</code> <code>Note 3: You might need to edit the compute architecture in the "makefile" or "CMakeLists.txt". By default, it is set to sm_52.</code> <a class="anchor" id="make"></a> </p>
<h3><a class="anchor" id="autotoc_md4"></a>
Make</h3>
<p>To build the project, use one of the following commands: </p><div class="fragment"><div class="line"># Build all versions</div>
<div class="line">make all</div>
<div class="line"> </div>
<div class="line"># Build the CPU version</div>
<div class="line">make raytracer_cpu</div>
<div class="line"> </div>
<div class="line"># Build the GPU version</div>
<div class="line">make raytracer_gpu</div>
<div class="line"> </div>
<div class="line"># Build the GPU unified memory version</div>
<div class="line">make raytracer_gpu_unified</div>
<div class="line"> </div>
<div class="line"># Build the CPU version with SFML</div>
<div class="line">make raytracer_cpu_sfml</div>
<div class="line"> </div>
<div class="line"># Build the GPU version with SFML</div>
<div class="line">make raytracer_gpu_sfml</div>
<div class="line"> </div>
<div class="line"># Build the GPU unified memory version with SFML</div>
<div class="line">make raytracer_gpu_sfml_unified</div>
</div><!-- fragment --><p>When running the program through <code>make</code> commands, the CPU and GPU versions will output the rendered images to <code>cpu_image.ppm</code> and <code>gpu_image.ppm</code>, respectively. Use the following commands to run them: </p><div class="fragment"><div class="line"># Run the CPU version</div>
<div class="line">make run_cpu</div>
<div class="line"> </div>
<div class="line"># Run the GPU version</div>
<div class="line">make run_gpu</div>
<div class="line"> </div>
<div class="line"># Run the GPU unified memory version</div>
<div class="line">make run_gpu_unified</div>
<div class="line"> </div>
<div class="line"># Run the CPU version with SFML</div>
<div class="line">make run_cpu_sfml</div>
<div class="line"> </div>
<div class="line"># Run the GPU version with SFML</div>
<div class="line">make run_gpu_sfml</div>
<div class="line"> </div>
<div class="line"># Run the GPU unified memory version with SFML</div>
<div class="line">make run_gpu_sfml_unified</div>
</div><!-- fragment --><p>If you prefer to run the programs manually, you can either let the CPU version output to <code>cpu_image.ppm</code> and the GPU version to <code>gpu_image.ppm</code>, or redirect the output to a file of your choice. </p><div class="fragment"><div class="line"># raytracer_cpu can be replaced with raytracer_cpu_sfml</div>
<div class="line"># Run the CPU version and output to cpu_image.ppm</div>
<div class="line">build/raytracer_cpu</div>
<div class="line"> </div>
<div class="line"># Run the CPU version and output to a custom file (e.g, image.ppm)</div>
<div class="line">build/raytracer_cpu &gt; image.ppm</div>
<div class="line"> </div>
<div class="line"># raytracer_gpu can be replaced with raytracer_gpu_sfml</div>
<div class="line"># Run the GPU version and output to gpu_image.ppm</div>
<div class="line">build/raytracer_gpu</div>
<div class="line"> </div>
<div class="line"># Run the GPU version and output to a custom file (e.g, image.ppm)</div>
<div class="line">build/raytracer_gpu &gt; image.ppm</div>
<div class="line"> </div>
<div class="line"># raytracer_gpu_unified can be replaced with raytracer_gpu_sfml_unified</div>
<div class="line"># Run the GPU unified memory version and output to gpu_image.ppm</div>
<div class="line">build/raytracer_gpu_unified</div>
<div class="line"> </div>
<div class="line"># Run the GPU unified memory version and output to a custom file (e.g, image.ppm)</div>
<div class="line">build/raytracer_gpu_unified &gt; image.ppm</div>
</div><!-- fragment --><p>To clean up the build, use the following command: </p><div class="fragment"><div class="line"># Remove executables and the build directory</div>
<div class="line">make clean</div>
</div><!-- fragment --><p><a class="anchor" id="cmake"></a> </p>
<h3><a class="anchor" id="autotoc_md5"></a>
CMake</h3>
<p>To build the project, use the following commands: </p><div class="fragment"><div class="line"># Build &quot;build&quot; directory</div>
<div class="line">cmake -B build</div>
</div><!-- fragment --><p>To build specific versions, use any of the following commands: </p><div class="fragment"><div class="line"># Build all versions</div>
<div class="line">cmake --build build</div>
<div class="line"> </div>
<div class="line"># Build the CPU version</div>
<div class="line">cmake --build build --target Raytracer-CPU</div>
<div class="line"> </div>
<div class="line"># Build the GPU version</div>
<div class="line">cmake --build build --target Raytracer-GPU</div>
<div class="line"> </div>
<div class="line"># Build the GPU unified memory version</div>
<div class="line">cmake --build build --target Raytracer-GPU-Unified</div>
<div class="line"> </div>
<div class="line"># Build the CPU version with SFML</div>
<div class="line">cmake --build build --target Raytracer-CPU-SFML</div>
<div class="line"> </div>
<div class="line"># Build the GPU version SFML</div>
<div class="line">cmake --build build --target Raytracer-GPU-SFML</div>
<div class="line"> </div>
<div class="line"># Build the GPU unified memory version with SFML</div>
<div class="line">cmake --build build --target Raytracer-GPU-SFML-Unified</div>
</div><!-- fragment --><p>To run either version, use any of the following commands: </p><div class="fragment"><div class="line"># Raytracer-CPU can be replaced with Raytracer-CPU-SFML</div>
<div class="line"># Run the CPU version and output to cpu_image.ppm</div>
<div class="line">build/Raytracer-CPU</div>
<div class="line"> </div>
<div class="line"># Run the CPU version and output to a custom file (e.g, image.ppm)</div>
<div class="line">build/Raytracer-CPU &gt; image.ppm</div>
<div class="line"> </div>
<div class="line"># Raytracer-GPU can be replaced with Raytracer-GPU-SFML</div>
<div class="line"># Run the GPU version and output to gpu_image.ppm</div>
<div class="line">build/Raytracer-GPU</div>
<div class="line"> </div>
<div class="line"># Run the GPU version and output to a custom file (e.g, image.ppm)</div>
<div class="line">build/Raytracer-GPU &gt; image.ppm</div>
<div class="line"> </div>
<div class="line"># Raytracer-GPU-Unified can be replaced with Raytracer-GPU-SFML-Unified</div>
<div class="line"># Run the GPU unified memory version and output to gpu_image.ppm</div>
<div class="line">build/Raytracer-GPU-Unified</div>
<div class="line"> </div>
<div class="line"># Run the GPU unified memory version and output to a custom file (e.g, image.ppm)</div>
<div class="line">build/Raytracer-GPU-Unified &gt; image.ppm</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md6"></a>
Optimized builds</h4>
<p>You can choose between <code>Debug</code> or <code>Release</code> configurations when building the project.</p>
<p><a class="anchor" id="autotoc_md7"></a> </p><h5>On Windows:</h5>
<div class="fragment"><div class="line"># Build &quot;build&quot; directory</div>
<div class="line">cmake -B build</div>
<div class="line"> </div>
<div class="line"># Build all versions as Debug</div>
<div class="line">cmake --build build --config Debug</div>
<div class="line"> </div>
<div class="line"># Build the CPU version as Debug</div>
<div class="line">cmake --build build --config Debug --target Raytracer-CPU</div>
<div class="line"> </div>
<div class="line"># Build the GPU version as Debug</div>
<div class="line">cmake --build build --config Debug --target Raytracer-GPU</div>
<div class="line"> </div>
<div class="line"># Build the GPU unified memory version as Debug</div>
<div class="line">cmake --build build --config Debug --target Raytracer-GPU-Unified</div>
<div class="line"> </div>
<div class="line"># Build the CPU version with SFML as Debug</div>
<div class="line">cmake --build build --config Debug --target Raytracer-CPU-SFML</div>
<div class="line"> </div>
<div class="line"># Build the GPU version with SFML as Debug</div>
<div class="line">cmake --build build --config Debug --target Raytracer-GPU-SFML</div>
<div class="line"> </div>
<div class="line"># Build the GPU unified memory version with SFML as Debug</div>
<div class="line">cmake --build build --config Debug --target Raytracer-GPU-SFML-Unified</div>
<div class="line"> </div>
<div class="line"># Build all versions as Release</div>
<div class="line">cmake --build build --config Release</div>
<div class="line"> </div>
<div class="line"># Build the CPU version as Release</div>
<div class="line">cmake --build build --config Release --target Raytracer-CPU</div>
<div class="line"> </div>
<div class="line"># Build the GPU version as Release</div>
<div class="line">cmake --build build --config Release --target Raytracer-GPU</div>
<div class="line"> </div>
<div class="line"># Build the GPU unified memory version as Release</div>
<div class="line">cmake --build build --config Release --target Raytracer-GPU-Unified</div>
<div class="line"> </div>
<div class="line"># Build the CPU version with SFML as Release</div>
<div class="line">cmake --build build --config Release --target Raytracer-CPU-SFML</div>
<div class="line"> </div>
<div class="line"># Build the GPU version with SFML as Release</div>
<div class="line">cmake --build build --config Release --target Raytracer-GPU-SFML</div>
<div class="line"> </div>
<div class="line"># Build the GPU unified memory version with SFML as Release</div>
<div class="line">cmake --build build --config Release --target Raytracer-GPU-SFML-Unified</div>
</div><!-- fragment --><p><a class="anchor" id="autotoc_md8"></a> </p><h5>On Linux / macOS:</h5>
<div class="fragment"><div class="line"># Build all versions as Debug</div>
<div class="line">cmake -B build/Debug -DCMAKE_BUILD_TYPE=Debug</div>
<div class="line">cmake --build build/Debug</div>
<div class="line"> </div>
<div class="line"># Build the CPU version as Debug</div>
<div class="line">cmake -B build/Debug -DCMAKE_BUILD_TYPE=Debug</div>
<div class="line">cmake --build build/Debug --target Raytracer-CPU</div>
<div class="line"> </div>
<div class="line"># Build the GPU version as Debug</div>
<div class="line">cmake -B build/Debug -DCMAKE_BUILD_TYPE=Debug</div>
<div class="line">cmake --build build/Debug --target Raytracer-GPU</div>
<div class="line"> </div>
<div class="line"># Build the CPU version with SFML as Debug</div>
<div class="line">cmake -B build/Debug -DCMAKE_BUILD_TYPE=Debug</div>
<div class="line">cmake --build build/Debug --target Raytracer-CPU-SFML</div>
<div class="line"> </div>
<div class="line"># Build the GPU version with SFML as Debug</div>
<div class="line">cmake -B build/Debug -DCMAKE_BUILD_TYPE=Debug</div>
<div class="line">cmake --build build/Debug --target Raytracer-GPU-SFML</div>
<div class="line"> </div>
<div class="line"># Build the GPU unified memory version as Debug</div>
<div class="line">cmake -B build/Debug -DCMAKE_BUILD_TYPE=Debug</div>
<div class="line">cmake --build build/Debug --target Raytracer-GPU-Unified</div>
<div class="line"> </div>
<div class="line"># Build the GPU unified memory version with SFML as Debug</div>
<div class="line">cmake -B build/Debug -DCMAKE_BUILD_TYPE=Debug</div>
<div class="line">cmake --build build/Debug --target Raytracer-GPU-SFML-Unified</div>
<div class="line"> </div>
<div class="line"># Build all versions as Release</div>
<div class="line">cmake -B build/Release -DCMAKE_BUILD_TYPE=Release</div>
<div class="line">cmake --build build/Release</div>
<div class="line"> </div>
<div class="line"># Build the CPU version as Release</div>
<div class="line">cmake -B build/Release -DCMAKE_BUILD_TYPE=Release</div>
<div class="line">cmake --build build/Release --target Raytracer-CPU</div>
<div class="line"> </div>
<div class="line"># Build the GPU version as Release</div>
<div class="line">cmake -B build/Release -DCMAKE_BUILD_TYPE=Release</div>
<div class="line">cmake --build build/Release --target Raytracer-GPU</div>
<div class="line"> </div>
<div class="line"># Build the CPU version with SFML as Release</div>
<div class="line">cmake -B build/Release -DCMAKE_BUILD_TYPE=Release</div>
<div class="line">cmake --build build/Release --target Raytracer-CPU-SFML</div>
<div class="line"> </div>
<div class="line"># Build the GPU version with SMFL as Release</div>
<div class="line">cmake -B build/Release -DCMAKE_BUILD_TYPE=Release</div>
<div class="line">cmake --build build/Release --target Raytracer-GPU-SFML</div>
<div class="line"> </div>
<div class="line"># Build the GPU unified memory version as Release</div>
<div class="line">cmake -B build/Release -DCMAKE_BUILD_TYPE=Release</div>
<div class="line">cmake --build build/Release --target Raytracer-GPU-Unified</div>
<div class="line"> </div>
<div class="line"># Build the GPU unified memory version with SFML as Release</div>
<div class="line">cmake -B build/Release -DCMAKE_BUILD_TYPE=Release</div>
<div class="line">cmake --build build/Release --target Raytracer-GPU-SFML-Unified</div>
</div><!-- fragment --><p><a class="anchor" id="autotoc_md9"></a> </p><h5>Note about executables</h5>
<p>The executables are located in the <code>build/Debug</code> or <code>build/Release</code> directories, depending on the selected configuration. You can run them as before: </p><div class="fragment"><div class="line"># Example for running the CPU version in Debug mode</div>
<div class="line">build/Debug/Raytracer-CPU</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md10"></a>
Program parameters</h2>
<p>You can modify the parameters for the rendered image, such as resolution or camera position, by editing their values in the source code.</p>
<h3><a class="anchor" id="autotoc_md11"></a>
CPU parameters</h3>
<p>In <code>CPU/src/main.cpp</code>, locate the following code section: </p><div class="fragment"><div class="line">...</div>
<div class="line">cam.aspect_ratio      = 16.0 / 9.0;</div>
<div class="line">cam.image_width       = width;</div>
<div class="line">cam.samples_per_pixel = 10;</div>
<div class="line">cam.max_depth         = 50;</div>
<div class="line">  </div>
<div class="line">cam.vfov              = 20;</div>
<div class="line">cam.lookfrom          = <a class="code" href="vec3_8cuh.html#a23d4d64cd77609f1c386634d2c940f29">point3</a>(13, 2, 3);</div>
<div class="line">cam.lookat            = <a class="code" href="vec3_8cuh.html#a23d4d64cd77609f1c386634d2c940f29">point3</a>(0, 0, 0);</div>
<div class="line">cam.vup               = <a class="code" href="classvec3.html">vec3</a>(0, 1, 0);</div>
<div class="line">  </div>
<div class="line">cam.defocus_angle     = 0.6;</div>
<div class="line">cam.focus_dist        = 10.0;</div>
<div class="line">...</div>
<div class="ttc" id="aclassvec3_html"><div class="ttname"><a href="classvec3.html">vec3</a></div><div class="ttdoc">A 3D vector class for floating-point operations.</div><div class="ttdef"><b>Definition:</b> vec3.cuh:18</div></div>
<div class="ttc" id="avec3_8cuh_html_a23d4d64cd77609f1c386634d2c940f29"><div class="ttname"><a href="vec3_8cuh.html#a23d4d64cd77609f1c386634d2c940f29">point3</a></div><div class="ttdeci">vec3 point3</div><div class="ttdef"><b>Definition:</b> vec3.cuh:164</div></div>
</div><!-- fragment --><p>You can adjust these values as needed. After making changes, rebuild the CPU version executable using either <a href="#make">Make</a> or <a href="#cmake">CMake</a></p>
<h3><a class="anchor" id="autotoc_md12"></a>
GPU parameters</h3>
<p>Similarly, in <code><a class="el" href="main_8cu.html">GPU/src/main.cu</a></code>, find this section: </p><div class="fragment"><div class="line">...</div>
<div class="line">rec.aspect_ratio      = <a class="code" href="precision_8cuh.html#a9ed4082f12a4f8c0e12302ae47ee7722">datatype</a>(16.0) / <a class="code" href="precision_8cuh.html#a9ed4082f12a4f8c0e12302ae47ee7722">datatype</a>(9.0);</div>
<div class="line">rec.image_width       = width;</div>
<div class="line">rec.samples_per_pixel = 10;</div>
<div class="line"> </div>
<div class="line">rec.vfov              = 20;</div>
<div class="line">rec.lookfrom          = <a class="code" href="vec3_8cuh.html#a23d4d64cd77609f1c386634d2c940f29">point3</a>(13, 2, 3);</div>
<div class="line">rec.lookat            = <a class="code" href="vec3_8cuh.html#a23d4d64cd77609f1c386634d2c940f29">point3</a>( 0, 0, 0);</div>
<div class="line">rec.vup               = <a class="code" href="classvec3.html">vec3</a>  ( 0, 1, 0);</div>
<div class="line">  </div>
<div class="line">rec.defocus_angle     = 0.6;</div>
<div class="line">rec.focus_dist        = 10.0;</div>
<div class="line">...</div>
<div class="ttc" id="aprecision_8cuh_html_a9ed4082f12a4f8c0e12302ae47ee7722"><div class="ttname"><a href="precision_8cuh.html#a9ed4082f12a4f8c0e12302ae47ee7722">datatype</a></div><div class="ttdeci">#define datatype</div><div class="ttdef"><b>Definition:</b> precision.cuh:8</div></div>
</div><!-- fragment --><p>After modifying these values, rebuild the GPU version executable using either <a href="#make">Make</a> or <a href="#cmake">CMake</a>.</p>
<p>Once rebuilt, run the program as described in the <a href="#build-run">Building and Running</a> section.</p>
<h2><a class="anchor" id="autotoc_md13"></a>
Benchmarking Plots</h2>
<p>A Python script is provided to efficiently generate plots while benchmarking the different ray tracing implementations. To begin, set up a Python virtual environment: </p><div class="fragment"><div class="line"># Create the venv</div>
<div class="line">python3 -m venv venv</div>
<div class="line"> </div>
<div class="line"># Activate it (windows)</div>
<div class="line">venv\Scripts\activate</div>
<div class="line"> </div>
<div class="line"># Activate it (Linux/MacOS)</div>
<div class="line">source venv/bin/activate</div>
</div><!-- fragment --><p>Next, you can use Make to run a predefined test configuration with the following command:</p>
<div class="fragment"><div class="line">make benchmark</div>
</div><!-- fragment --><p>To run the script manually, use the following command to view the available CLI arguments:</p>
<div class="fragment"><div class="line">python3 scripts/benchmark.py --help</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md14"></a>
Example Configuration</h3>
<div class="fragment"><div class="line">python3 scripts/benchmark.py -cgm -c -r 10 -w 500 1000 1500 2000</div>
</div><!-- fragment --><p>This command compares the non-unified and unified memory versions, running 10 samples per render with image widths of 500, 1000, 1500, and 2000. Additionally, it cleans up the build files upon completion. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
